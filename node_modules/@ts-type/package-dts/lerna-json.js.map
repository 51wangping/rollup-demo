{"version":3,"file":"lerna-json.js","sourceRoot":"","sources":["lerna-json.ts"],"names":[],"mappings":";AAAA;;GAEG;;;;;;;;;;;;AAOH,yDAAuC","sourcesContent":["/**\n * Created by user on 2020/6/19.\n */\n\nimport { AJSONSchemaForLernaJsonFiles } from './types/lerna.json';\nimport { ITSPartialPick, ITSMergeBoth, ITSOverwrite } from 'ts-type/lib/type/record';\n\nimport { IPackageJsonTag, IReleaseType } from './lib/package-json/types';\n\nexport * from './lib/lerna-json/types';\nimport { INpmClient } from './lib/lerna-json/types';\nimport { IBranch } from './lib/types';\nimport { ITSOmitRecordType } from 'ts-type/lib/helper/record/pick-type';\n\nexport type { IReleaseType }\n\ntype _Command = AJSONSchemaForLernaJsonFiles[\"command\"];\n\ntype _MergeCommand<T extends Record<string, Record<string, any>>> = {\n\t[P in keyof (T & _Command)]?:\n\t\t(P extends keyof _Command ?\n\t\t\tP extends keyof T ?\n\t\t\t\tITSMergeBoth<_Command[P], T[P]>\n\t\t\t\t: _Command[P]\n\t\t\t: T[P])\n}\n\nexport interface ILernaJsonCommand extends _MergeCommand<{\n\tpublish?: {\n\t\tconcurrency?: number;\n\t\t\"bump\"?: IReleaseType,\n\t\t\"conventionalCommits\"?: boolean,\n\t\t\"conventionalGraduate\"?: boolean,\n\t\tdistTag?: IPackageJsonTag,\n\t\tnpmClient?: INpmClient,\n\t\tallowBranch?: IBranch[],\n\t\tnoPrivate?: boolean,\n\t},\n\n\t\"version\"?: {\n\t\tconcurrency?: number;\n\t\t\"bump\"?: IReleaseType,\n\t\tallowBranch?: IBranch[],\n\t\t\"conventionalCommits\"?: boolean,\n\t\t\"changelogPreset\"?: string | \"@bluelovers/conventional-changelog-bluelovers\",\n\t\texact?: boolean;\n\t\tcreateRelease?: \"gitlab\" | \"github\",\n\t\tnoPrivate?: boolean,\n\t},\n\n\trun?: {\n\t\tconcurrency?: number;\n\t\t\"stream\"?: boolean,\n\t\tnpmClient?: INpmClient,\n\t\t[k: string]: unknown;\n\t},\n\n\texec?: {\n\t\tconcurrency?: number;\n\t\t\"stream\"?: boolean\n\t\t[k: string]: unknown;\n\t},\n}>\n{\n\t[k: string]: Record<string, unknown>;\n}\n\nexport interface ILernaJson extends ITSOverwrite<AJSONSchemaForLernaJsonFiles,\n\t{\n\n\t\t/**\n\t\t * The current version of the repository (or independent).\n\t\t */\n\t\tversion?: string | \"independent\";\n\n\t\t/**\n\t\t * Specify which client to run commands with (change to \"yarn\" to run commands with yarn. Defaults to \"npm\".\n\t\t */\n\t\tnpmClient?: INpmClient;\n\n\t\tworkspaces?: (string | \"packages/*\")[];\n\t\tpackages?: (string | \"packages/*\")[];\n\n\t\tcommand?: ILernaJsonCommand,\n\t}>\n{\n\n}\n\nexport default ILernaJson\n"]}